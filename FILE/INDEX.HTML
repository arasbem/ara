<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JavaScript Notes</title>
</head>
<body>
    <h1>Notes</h1>
    <ul id="notes-list"></ul>
    
    <form id="add-note-form">
        <input type="text" id="note-input" required>
        <button type="submit">Add Note</button>
    </form>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Carica le note dal localStorage all'avvio
            loadNotes();

            // Aggiungi evento di ascolto per il submit del form
            document.getElementById('add-note-form').addEventListener('submit', function (event) {
                event.preventDefault();
                addNote();
            });
        });

        // Funzione per caricare le note dal localStorage e visualizzarle
        function loadNotes() {
            const notesList = document.getElementById('notes-list');
            notesList.innerHTML = '';

            // Recupera le note dal localStorage
            const notes = JSON.parse(localStorage.getItem('notes')) || [];

            // Visualizza le note
            notes.forEach(function (note, index) {
                const listItem = document.createElement('li');
                listItem.innerHTML = `${note} | <a href="#" onclick="editNote(${index})">Edit</a> | <a href="#" onclick="deleteNote(${index})">Delete</a>`;
                notesList.appendChild(listItem);
            });
        }

        // Funzione per aggiungere una nuova nota
        function addNote() {
            const noteInput = document.getElementById('note-input');
            const note = noteInput.value;

            // Recupera le note esistenti dal localStorage
            const notes = JSON.parse(localStorage.getItem('notes')) || [];

            // Aggiunge la nuova nota
            notes.push(note);

            // Salva le note aggiornate nel localStorage
            localStorage.setItem('notes', JSON.stringify(notes));

            // Carica e visualizza le note aggiornate
            loadNotes();

            // Resetta il campo di input
            noteInput.value = '';
        }

        // Funzione per modificare una nota esistente
        function editNote(index) {
            const notes = JSON.parse(localStorage.getItem('notes')) || [];
            const updatedNote = prompt('Edit Note:', notes[index]);

            if (updatedNote !== null) {
                notes[index] = updatedNote;
                localStorage.setItem('notes', JSON.stringify(notes));
                loadNotes();
            }
        }

        // Funzione per eliminare una nota esistente
        function deleteNote(index) {
            const notes = JSON.parse(localStorage.getItem('notes')) || [];
            notes.splice(index, 1);
            localStorage.setItem('notes', JSON.stringify(notes));
            loadNotes();
        }
    </script>
</body>
</html>
